2003-07-10  Theodore A. Roth  <troth@openavr.org>

	* doc/todo.txt: Update todo list.

2003-07-10  Theodore A. Roth  <troth@openavr.org>
[Contributed by Joerg Wunsch <joerg_wunsch@uriah.heep.sax.de>]

	* configure.ac: Bump version.
	* src/avarice.h: Define DEFAULT_PORT.
	* src/main.cc: Have host default to listening on any interface and 
	port default to DEFAULT_PORT (4242).

2003-07-02  Theodore A. Roth  <troth@openavr.org>
[Contributed by Jake McGuire <jake@boom.net>]

	* src/jtagio.cc: Add support for mega64.

2003-07-02  Theodore A. Roth  <troth@openavr.org>
[Contributed by Joerg Wunsch <joerg_wunsch@uriah.heep.sax.de>]

	* configure.ac: Bump version.
	* src/jtagprog.cc: SEC_ARCH_BIT_0 and SEC_THREAD_LOCAL are not
	available on some older bfd libraries.
	* src/main.cc: BSD always requires the inclusion of <sys/types.h>
	before <sys/socket.h>.
	(initSocketAddress): struct sockaddr_in in 4.4BSD contains some padding
	at the end in a struct field named sin_zero which needs zero'ed out.

2003-06-13  Theodore A. Roth  <troth@openavr.org>

	* configure.ac: Bump version.
	* src/jtagio.cc: Set JTAG_P_CLOCK param to 0xff instead of 0xfd to
	speed things up a little bit.
	* src/remote.cc: Remove a debug output statement.

2003-06-12  Theodore A. Roth  <troth@openavr.org>

	* doc/todo.txt: Remove some items that have been fixed or are now
	working.

2003-06-12  Theodore A. Roth  <troth@openavr.org>

	* src/jtagrw.cc (jtagWrite): Print debug message if addr or length is
	odd.
	* src/remote.cc (reportStatusExtended): New function for replying with
	a 'T' packet instead of an 'S' packet.
	Use new function whenever a breakpoint is hit from a step or continue
	command from gdb.

2003-06-12  Theodore A. Roth  <troth@openavr.org>

	* configure.ac: Bump version.
	* src/remote.cc: Remove call to interruptProgram() when handling a 'g'
	packet. This was accidently committed and should not have been since
	it causes the jtagice box to corrupt the program counter. Not good.

2003-06-11  Theodore A. Roth  <troth@openavr.org>

	* configure.ac: Bump version.
	* src/jtagio.cc: Remove check failure for jtag ice HW version.
	* src/remote.cc: Fix handling the 'M' command from GDB to allow for
	odd addresses and lengths.

2003-06-05  Theodore A. Roth  <troth@openavr.org>

	* configure.ac: Check for intl library since linking to bfd may
	require it (this affects cygwin). [Thanks Colid O'Flynn for reporting
	this.]

2003-05-04  Theodore A. Roth  <troth@openavr.org>
[Contributed by Alan Willis <willisa@erols.com>.]

	* src/jtagprog.cc: Speed up programming the flash by skipping pages
	that are all ones.

2003-05-04  Nils Kristian Strom  <nilsst@omegav.ntnu.no>

	* src/main.cc: Allow all programmer-operations (erase device,
	write memory, write fuses, write lockbits) in one pass.

2003-05-04  Theodore A. Roth  <troth@openavr.org>

	* configure.ac: Check for libbfd and libiberty, complain if either is
	missing.
	Bump version.
	* src/jtagio.cc: When opening the jtagice device, give a more helpful 
	failure message.

2003-05-04  Nils Kristian Strom  <nilsst@omegav.ntnu.no>

	* src/jtag.h:
	* src/jtagprog.cc:
	* src/jtagrw.cc:
	Use the bfd library for handling multiple input file formats.

2003-05-01  Theodore A. Roth  <troth@openavr.org>

	* src/jtagrw.cc: Fix byte order problem when specifying fuses bytes 
	on the command line.

2003-04-20  Theodore A. Roth  <troth@openavr.org>

	* AUTHORS: Fix a typo.
	* INSTALL-FROM-CVS: Add detailed description about using the proper
	versions of autoconf and automake.
	* configure.ac: Ran autoscan to generate this file to check for more
	potential portability problem points.
	Use autoconf-2.57 and automake-1.7.3 (trying make things work right
	with any versions is a royal PITA).
	Have autoheader generate src/autoconf.hin instead of autoconf.h.in so
	8.3 systems don't puke.
	* configure.in: Removed (replaced by configure.ac).
	* .cvsignore: Ignore all diff and patch files.
	Ignore all autom4te*.cache dirs.
	* src/.cvsignore: Ignore TAGS and tags files.
	Ignore autoconf.hin instead of autoconf.h.in.

2003-04-03  Theodore A. Roth  <troth@openavr.org>
[Contributed by Nils Kristian Strom <nilsst@omegav.ntnu.no>].

	* configure.in: Bump version.
	* src/jtag.h:
	* src/jtagrw.cc:
	* src/main.cc:
	Add support for writing the lockbits from the command line.

2003-04-02  Theodore A. Roth  <troth@openavr.org>
[Contributed by Nils Kristian Strom <nilsst@omegav.ntnu.no>].

	* src/jtag.h:
	* src/jtagrw.cc:
	* src/main.cc:
	Add support for writing fuses from the command line.

2003-04-02  Theodore A. Roth  <troth@openavr.org>
[Contributed by Nils Kristian Strom <nilsst@omegav.ntnu.no>].

	* configure.in: Bump version.
	* src/main.cc: Move #include <unistd.h> to fix a build failure on
	FreeBSD.

2003-04-01  Theodore A. Roth  <troth@openavr.org>
[Contributed by Jake McGuire <jake@boom.net>]

	* src/main.cc: Ports should be printed as unsigned values instead of
	signed.

2003-04-01  Theodore A. Roth  <troth@openavr.org>

	* configure.in: Add check for socklen_t type.

2003-04-01  Theodore A. Roth  <troth@openavr.org>
[Contributed by Jake McGuire <jake@boom.net>]

	* configure.in: Bump version.
	* src/jtagio.cc: Don't set serial speed by changing termios structure
	since this breaks on OS X. Use cfsetospeed() and cfsetispeed().

2003-03-27  Theodore A. Roth  <troth@openavr.org>

	* configure.in: Add checks for libsocket and libnsl.

2003-03-27  Theodore A. Roth  <troth@openavr.org>
[Contributed by James Harris <James.Harris@codan.com.au>]

	* src/jtag.h: Lengthen JTAG_RESPONSE_TIMEOUT so slower systems have
	a fair chance to respond.
	* src/remote.cc: Passing an int to read(2) is not bigendian friendly,
	so pass an unsigned char instead.

2003-03-27  Theodore A. Roth  <troth@openavr.org>

	* src/remote.cc: Add handling of 'C' packet. Using 'sig SIGHUP' command
	from gdb will cause avarice to reset the user program.

2003-03-27  Theodore A. Roth  <troth@openavr.org>

	* Bootstrap: Remove need to run autotools in src.
	* configure.in: Remove need for src/configure.in.
	* src/configure.in: Remove file.

2003-03-27  Theodore A. Roth  <troth@openavr.org>
[Contributed by James Harris <James.Harris@codan.com.au>]

	* src/Makefile.am (avarice_SOURCES): Add ioreg.cc and ioreg.h.
	* src/ioreg.cc: New file.
	* src/ioreg.h: New file.
	* src/jtag.h: Add io_reg_defs field to jtag_device_def_type struct.
	* src/jtagio.cc: Add io_reg_defs field initializers.
	* src/remote.cc: Add 'q' packet handling of "Ravr.io_reg" queries.

2003-03-27  Theodore A. Roth  <troth@openavr.org>

	* src/remote.cc: Break out of 'g' packet case if an error occurs.

2003-03-27  Theodore A. Roth  <troth@openavr.org>
[Contributed by James Harris <James.Harris@codan.com.au>]

	* src/remote.cc: When handling a 'g' packet, only read the 32 GPR's,
	SPL, SPH, and SREG. Reading some other io registers can have side
	effects.

2003-03-27  Theodore A. Roth  <troth@openavr.org>
[Contributed by James Harris <James.Harris@codan.com.au>]

	* src/jtag.h: Remove unused deviceType enum.
	* src/jtagprog.cc: Tell the jtagbox the device dependant flash and
	eeprom pagesizes based on device definition info.

2003-03-26  Theodore A. Roth  <troth@openavr.org>
[Contributed by Jeff Rose <rosejn@Colorado.EDU>]

	* src/jtagio.cc (getJtagResponse): Use JTAG_RESPONSE_TIMEOUT instead
	of JTAG_COMM_TIMEOUT when reading the response from the jtag box.
	* src/main.cc: Don't require hostname and portnumber options if they
	aren't needed.

2003-03-25  Theodore A. Roth  <troth@openavr.org>
[Contributed by James Harris <James.Harris@codan.com.au>]

	* src/jtag.h: Add jtag_device_def_type structure.
	Add various missing jtag values.
	* src/jtagio.cc: Add auto detection and configuration of target device.
	Always report jtag box hw and sw versions.
	* src/main.cc: Add --part command line option.

2003-03-17  Theodore A. Roth  <troth@openavr.org>

	* Bootstrap: Add "-a -c" to second call to automake so depcomp will be
	installed if it is missing.

2003-02-28  Theodore A. Roth  <troth@openavr.org>

	* AUTHORS: New file.
	* Bootstrap: Allow user to specify which versions of the auto tools
	to use by setting environment variables.
	* ChangeLog: New file.

